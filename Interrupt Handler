jk
void USART2_IRQHandler(void)
{
	if( USART_GetITStatus(USART2, USART_IT_TXE))
	{
		if(Data = complete)
		{
		USART_ITConfig(USART2,USART_IT_TXE,DISABLE);
		}
	}
  // check if the USART2 receive interrupt flag was set
	if( USART_GetITStatus(USART2, USART_IT_RXNE))
	{
		USART_ClearITPendingBit(USART2, USART_IT_RXNE);
		int i;
		char c = USART2->DR & 0xFF;
		LCD_putchar(c);

		UART_putchar(c);
		if(c > 64 && c < 91)
			c += 32;
		if(c <= 13)
		{
			for(i=0;i<charcounter;i++)
			{
				USART_SendData(USART2, string[i]); // Echo Char
			}
			charcounter = 0;
			USART_SendData(USART2, c); // Echo Char
		}
		else
		{
			string[charcounter] = c;
			charcounter++;
		}


		while (USART_GetFlagStatus(USART2, USART_FLAG_TC) == RESET); // Wait for Empty

	}
}
